<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rt2_assignment1: First Assignment of the Research Track 2 course (Robotics Engineering / JEMARO, Unige)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rt2_assignment1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation of the second assignment of the Research Track 2 course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">First Assignment of the Research Track 2 course (Robotics Engineering / JEMARO, Unige) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1"></a>
General information</h2>
<p>This ROS package contains four nodes and the simulation environment for controlling a mobile robot in a Gazebo simulation environment. The general beaviour will be: you have a user interface with which you can directly interact to the robot making it moves pressing 1 and makes it stops pressing any other number. In particular, when you press 1, and so starting the simulation, the robot starts moving since it is trying to reaching a target position and a target orientation in the space. When it stops, a new random position is sent to it and it will again try to reach it. But please, pay attention to the fact that when you try to stop the simulation pressing whatever number (except 1) the robot now would stop immediately to move, differently from what happens in the other two branches.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Nodes</h2>
<p>We have four nodes in total:</p><ol type="1">
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/src/position_service.cpp"><b>position_service</b></a>: this node is contained in the src folder and it implements a service, it waits for a request from a client and replies with a position x and y and the orientation theta. This is a c++ node.</li>
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/src/state_machine.cpp"><b>state_machine</b></a>: this node is contained in the src folder and it represents a finite state machine which has only two states that are when the robot starts and when the robot stops. This node may call the position server and after called the position server, so after it receives the target x y and theta position, it will call the navigation service. It also implement a service for interacting with the user interface. In this node an action client has been implemented. This is a c++ node.</li>
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/scripts/go_to_point.py"><b>go_to_point</b></a>: this node is contained in the script folder and it implements a service to drive a robot toward a point in the environment. It also waits for a client to call the service, the client will send the x, the y and the theta and it will drive the robot towards the required x, y and theta. This node directly interacts with the simulation, indeed it subscribes with the odometry of the robot and it publishes on the cmd_vel of the robot. In this node an action server has been implemented. In this way, since actions are not atomic, we can for instance solve the problem related to the fact that when we ask to the robot to stop, this can be done immediately, indeed with actions we are able to cancel goals. This is a python node.</li>
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/scripts/user_interface.py"><b>user_interface</b></a>: this node is contained in the script folder and it asks to the user to start and stop the robot, and it calls a service implemented in the robot finite state machine. Also in this node an action client has been implememented, in order to achieve the stopping beavior of the robot, when requested. This is a python node.</li>
</ol>
<h2><a class="anchor" id="autotoc_md3"></a>
Custom services in the srv folder</h2>
<ol type="1">
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/srv/RandomPosition.srv"><b>RandomPosition</b></a>: it expects a x_max, x_min, y_max and y_min and replies with an x, y and theta. This is the service message used by the random position service.</li>
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/srv/Position.srv"><b>Position</b></a>: it is the message sent to the go_to_point service.</li>
<li><a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/srv/Command.srv"><b>Command</b></a>: it is just a string command which will be start or stop.</li>
</ol>
<h2><a class="anchor" id="autotoc_md4"></a>
Action</h2>
<p>In the action folder we can find the <a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/action/Target.action"><b>Target</b></a> action. In this file we have the goal definition which corresponds to the x, y and theta of the target to reach, then we have the result which is a simple boolean value and finally we have the feedback that consists of a string about the status of that action.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Urdf folder</h2>
<p>This folder contains a file in which you find the description of the robot that will be spawned in the Gazebo simulation environemnt.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Launch file</h2>
<p>There is only one launch file whcih is the <a href="https://github.com/serenapaneri/rt2_assignment1/blob/action/launch/sim.launch"><b>sim.launch</b></a> that will just spawn the robot in the Gazebo simulator and then it launches all the four nodes.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Required packages</h1>
<p>For this simulation you need the <b>Actionlib</b> package.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
How to run the code</h1>
<p>In order to run the gazebo simulation you have first to open the terminal and source it as a ROS environment, then you need to run the roscore, and then run the launch file: </p><div class="fragment"><div class="line">roslaunch rt2_assignment1 sim.launch</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>

\hypertarget{state__machine_8cpp}{}\doxysection{src/state\+\_\+machine.cpp File Reference}
\label{state__machine_8cpp}\index{src/state\_machine.cpp@{src/state\_machine.cpp}}


This node implements the state machine.  


{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/\+Command.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/\+Target\+Action.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/\+Random\+Position.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib/client/simple\+\_\+action\+\_\+client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib/client/terminal\+\_\+state.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}std\+\_\+msgs/\+Int32.\+h\char`\"{}}\newline
Include dependency graph for state\+\_\+machine.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{state__machine_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{state__machine_8cpp_a1a9543636935547580c0657f4c7c0c2b}{user\+\_\+interface}} (rt2\+\_\+assignment1\+::\+Command\+::\+Request \&req, rt2\+\_\+assignment1\+::\+Command\+::\+Response \&res)
\begin{DoxyCompactList}\small\item\em Callback function of /user\+\_\+interface topic. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{state__machine_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function of the node state\+\_\+machine. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{state__machine_8cpp_ab376b87f96a574a793c03c53e75afec8}\label{state__machine_8cpp_ab376b87f96a574a793c03c53e75afec8}} 
bool {\bfseries start} = false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This node implements the state machine. 

\begin{DoxyAuthor}{Author}
Serena Paneri 4506977 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
13/08/2022
\end{DoxyDate}
Subscribes to\+: ~\newline
 None

Publishes to\+: ~\newline
 robot\+\_\+target

Services\+: ~\newline
 /user\+\_\+interface

Client\+: ~\newline
 /position\+\_\+server

Action client\+: ~\newline
 /go\+\_\+to\+\_\+point

Description\+: ~\newline
 This node represents the state machine of the program and it only has two states that are when the robot starts and when the robot stops. When the user starts the simulation by exploiting the user\+\_\+interface, the state machine calls the position\+\_\+server in order to recieve the random x and y position and orientation theta, that will be the goal to be achieved by the robot in the simulation environment. Moreover it manages the action server \mbox{\hyperlink{namespacego__to__point}{go\+\_\+to\+\_\+point}} that will drive the robot toward the goal position. After achieving the goal position the state machine will make again the same request as before until the user manually stops the behavior of the robot by exploiting again the user\+\_\+interface. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{state__machine_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{state__machine_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{state\_machine.cpp@{state\_machine.cpp}!main@{main}}
\index{main@{main}!state\_machine.cpp@{state\_machine.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function of the node state\+\_\+machine. 

This is the main function of the node state\+\_\+machine where the node is initialized. Moreover the service to start the behavior of the robot is implemented, the client of ~\newline
 the position service to retrieve the goal position and orientation, an action client to make the robot move toward the target and a publisher that advertise if the robot reaches or not the goal in the environment. Moverover it menages the two different states in which the robot could be. \mbox{\Hypertarget{state__machine_8cpp_a1a9543636935547580c0657f4c7c0c2b}\label{state__machine_8cpp_a1a9543636935547580c0657f4c7c0c2b}} 
\index{state\_machine.cpp@{state\_machine.cpp}!user\_interface@{user\_interface}}
\index{user\_interface@{user\_interface}!state\_machine.cpp@{state\_machine.cpp}}
\doxysubsubsection{\texorpdfstring{user\_interface()}{user\_interface()}}
{\footnotesize\ttfamily bool user\+\_\+interface (\begin{DoxyParamCaption}\item[{rt2\+\_\+assignment1\+::\+Command\+::\+Request \&}]{req,  }\item[{rt2\+\_\+assignment1\+::\+Command\+::\+Response \&}]{res }\end{DoxyParamCaption})}



Callback function of /user\+\_\+interface topic. 


\begin{DoxyParams}{Parameters}
{\em req} & it is the request done by the service \\
\hline
{\em res} & it is the response to the client\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true
\end{DoxyReturn}
This function contains the request made by the user in the user\+\_\+interface to make the robot move. 